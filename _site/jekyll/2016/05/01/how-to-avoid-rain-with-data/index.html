<!DOCTYPE html>
<html>

    <head>

	<script type="text/javascript">
    var host = "renatomandic.com";
    if ((host == window.location.host) && (window.location.protocol != "https:"))
        window.location.protocol = "https";
	</script>

	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

	<title>How to avoid rain, with data and the Internet Of Things - Phil Lang</title>

	<meta name="description" content="I'm Phil. I'm a Creative Producer and a Web Developer.">

	<link rel="canonical" href="http://localhost:4000/jekyll/2016/05/01/how-to-avoid-rain-with-data/">
	<link rel="alternate" type="application/rss+xml" title="Phil Lang" href="http://localhost:4000/feed.xml" />

	<!-- Font Awesome -->
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">

	<!-- CSS -->
	<link rel="stylesheet" href="/css/Bootstrap/bootstrap.min.css">
	<link rel="stylesheet" href="/css/prism.css">
	<link rel="stylesheet" href="/css/main.css">

	<script src="/js/prism.js"></script>

	<!-- Favicon -->
	<link rel="apple-touch-icon" sizes="180x180" href="/img/favicons/apple-touch-icon.png">
	<link rel="icon" type="image/png" href="/img/favicons/favicon-32x32.png" sizes="32x32">
	<link rel="icon" type="image/png" href="/img/favicons/favicon-16x16.png" sizes="16x16">
	<link rel="manifest" href="/manifest.json">
	<link rel="mask-icon" href="/img/favicons/safari-pinned-tab.svg" color="#5bbad5">
	<meta name="theme-color" content="#ffffff">
</head>


  <body class="bg-fff">

  <!-- Capture and store a URl -->


<header class="container-fluid">

  <!-- Navigation -->

  <a href="#" class="menu-button" id="menuButton">
    <span class="burger-icon"></span>
  </a>

  <!-- <a href="/" class="header-logo"></a> -->

  <nav role="navigation" id="nav">
    <ul>
      <li class="nav__item">
        <a href="/">Home</a>
      </li>
      
      <!-- Compare the page title to the URL -->

        

        
        <li  class="nav__item" 
        >
          <a href="/about/">About</a>
        </li>
        

      
      <!-- Compare the page title to the URL -->

        

        

      
      <!-- Compare the page title to the URL -->

        

        

      
      <!-- Compare the page title to the URL -->

        

        
        <li  class="nav__item" 
        >
          <a href="/blog/">Blog</a>
        </li>
        

      
      <!-- Compare the page title to the URL -->

        

        

      
      <!-- Compare the page title to the URL -->

        

        

      
    </ul>
  </nav>


</header>

<div class="header-shadow"></div>


  <article class="container post">

    <h1><a href="">How to avoid rain, with data and the Internet Of Things</a></h1>

    <div>
      <span class="post__meta">May 1, 2016</span>
    </div>

    

    

    <p>If you’re anything like me you don’t particularly like getting caught out in the rain (unless there are pina coladas involved). Like me you may also yearn to be less reliant on your phone for obtaining information and making decisions.</p>

<p>One of the first things I do in the morning is roll over, pick up my phone and check if it’s due to rain - do I need an umbrella today? Not a great morning ritual by any means. This caused me to spend a bit of time wondering how I could break this ritual, maintain exposure to this valuable weather data, but have it delivered to me in a less intrusive way. <strong>Enter the data radiators.</strong></p>

<p><img src="/img/post/2016-05-05-how-to-avoid-rain-with-data/2-rain-pi.png" alt="Umbrella, LED and Raspberry Pi" title="Umbrella, LED and Raspberry Pi" /></p>

<h3 id="data-radiators">Data Radiators</h3>
<p>I was introduced to the idea of a ‘Data Radiator’ when talking with my mentor. He described them as being devices that sit in our periphery, that live unobtrusively in our environments, radiating, or signifying with data. Think about a doorbell, it rings when a button is pressed, signifying a person wants to see you. Most of the time it just hangs there, high on your wall, wired through the building to a button on your front door. Those few times when it is in use, it’s invaluable. Now imagine the person at your door is actually a visiting rain cloud, who has the courtesy to warn you that rain is on the way. Basically, I wanted to create the rain notification equivalent of the much loved doorbell. “Ding Dong, it’s due to rain Phil”, but maybe without the ding dong or the disembodied voice. An LED, let’s go with a blue LED.</p>

<h3 id="rain-pi">Rain-Pi</h3>

<p>With this in mind I set myself the task of creating a ‘data radiator’ that would signal the potential for rain in the next 12 hours. The concept was to employ a Raspberry Pi, Python script, weather API and a LED light to signal this upcoming rain event. A quick search online provided quite a few similar projects. I was keen to write something myself, so with a bit of inspiration from <a href="http://www.howtogeek.com/140063/build-an-led-indicator-with-a-raspberry-pi-for-email-weather-or-anything/all/" title="How to build LED indicator" target="_blank">this post in particular</a>, I wrote the following <a href="https://github.com/langphil/rain_notifier_rpi" title="Rain Notifier Pi">code</a>.</p>

<p><img src="/img/post/2016-05-05-how-to-avoid-rain-with-data/2-data_rad.jpg" alt="RainPi" /></p>

<p>The final prototype pictured above is an empty vodka bottle that sits on my book shelf. The majority of the time it is simply a bottle. Whenever the Wunderground API returns a greater than 70% chance of rain in my locality over the next 12 hours, a blue LED turns on. This is immensely useful in the mornings, when I can just glance at my bookshelf to work out whether an umbrella is a necessity.</p>

<p>I’ve detailed the process for creating this device below and provided relevant links.</p>

<p>I’ve no doubt that this could be executed in a simpler way. If you’ve any thoughts on this then please <a href="mailto:plangphoto@gmail.com">get in touch</a>, or create a pull request.</p>

<p>Now go and play!</p>

<h3 id="the-process">The Process</h3>

<p><strong>1)</strong> Get yourself an RPI with <a href="https://www.raspbian.org/" title="Raspbian OS">Raspbian</a> and a PiBorg LED setup.</p>

<p><strong>2)</strong> Install PiBorg by following the instructions at <a href="http://www.piborg.org/ledborg" title="Piborg / Ledborg" target="_blank">Piborg</a>.</p>

<p><strong>3)</strong> Go to <a href="http://api.wunderground.com/weather/api/" title="Wundeground API" target="_blank">Wundeground</a> &amp; get yourself an API key.</p>

<p><strong>4)</strong> Work out the <a href="http://www.findlatitudeandlongitude.com/" title="Longitude / Latitude" target="_blank">coordinates</a> that you’d like to get notifications for.</p>

<p><strong>5)</strong> Enter all three values (API, Lon, Lat) into the URL in line 9 of forecast.py</p>

<p><strong>6)</strong> Set pop value (% chance of rain <strong>0 - 100</strong>) on line 21 of forecast.py</p>

<p><strong>7)</strong> Setup up a <a href="http://www.howtogeek.com/101288/how-to-schedule-tasks-on-linux-an-introduction-to-crontab-files/" title="How to set up a cron job" target="_blank">cron job</a> to run the script at intervals.</p>

<p><strong>8)</strong> Your light should now turn on everytime the script runs and the percentage chance of rain occuring in your location is higher than the pop value you have set.</p>

<p><strong>9)</strong> Find a pretty glass structure to place your pi within and put it on a shelf / rain jacket closet.</p>

<p><strong>10)</strong> Wait for rain (not involving pina coladas)….</p>

<p><strong>If you’d like to talk to me about this project or anything else, you can reach me <a href="mailto:plangphoto@gmail.com">here</a></strong></p>

<hr />

<p><strong>Image credits</strong></p>

<ul>
  <li>
    <p>Umbrella by <a href="https://thenounproject.com/term/umbrella/795/" target="_blank">Paul te Kortschot</a> on the <em>Noun Project</em> (CC BY 3.0 US)</p>
  </li>
  <li>
    <p>LED by <a href="https://thenounproject.com/term/led/48611/" target="_blank">Tamara Pasquin</a> on the <em>Noun Project</em> (CC BY 3.0 US)</p>
  </li>
</ul>


    

<div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://amomentago.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>



  </article>

  <footer>
	<div class="container-fluid">
		<ul class="social-icons text-center">
			<li><a href="https://twitter.com/langphil" title="Twitter"><i class="fa fa-twitter twitter" aria-hidden="true"></i></a></li>
      <li><a href="https://github.com/langphil" title="GitHub"><i class="fa fa-github github" aria-hidden="true"></i></a></li>
		</ul>
	</div>
  <div class="text-center copy">Phil Lang &copy; <span id="currentYear"></span> - Theme by <a href="https://renatomandic.com/about/" title="Renato Mandic">Renato Mandic</a></div>
</footer>


        <!-- Scripts -->

  <!-- app.js -->
  <script src="/js/app.js"></script>


  <!-- Google Analytics -->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-82392274-1', 'auto');
    ga('send', 'pageview');

  </script>

  </body>

</html>
